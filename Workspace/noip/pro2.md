# NOIP 提高组模拟赛
## Day2 Uiharu kazari's Round
By: $\mathfrak{Virgil\ von\ Einzbern}$

### 题目概况

|            | teleport | flower | password |
| ---------- | -------- | ------ | -------- |
| 测试点数目 | 10       | 20     | 20       |
| 时间限制   | 1s       | 2s     | 3s       |
| 内存限制   | 128MB    | 256MB  | 512MB    |

### 注意事项

- C++ 中函数 main() 的返回值类型必须是 int, 程序正常结束时的返回值必须是 0.
- 结果比较方式：全文比较（过滤行末空格及文末回车）
- 编译参数：`-lm` （评测时开栈）
### 故事背景

**初春饰利**，是轻小说《[某魔法的禁书目录](https://zh.moegirl.org/%E6%9F%90%E9%AD%94%E6%B3%95%E7%9A%84%E7%A6%81%E4%B9%A6%E7%9B%AE%E5%BD%95)》、漫画《[某科学的超电磁炮](https://zh.moegirl.org/%E6%9F%90%E7%A7%91%E5%AD%A6%E7%9A%84%E8%B6%85%E7%94%B5%E7%A3%81%E7%82%AE)》及其衍生作品的登场角色。

栅川中学一年级学生，与[白井黑子](https://zh.moegirl.org/%E7%99%BD%E4%BA%95%E9%BB%91%E5%AD%90)同为第177支部的[风纪委员](https://zh.moegirl.org/%E9%A3%8E%E7%BA%AA%E5%A7%94%E5%91%98) 。作为风纪委员，却笨手笨脚的，体能也很差，甚至连一个俯卧撑都做不下来，几乎是靠情报处理能力的突破才最终获得了风纪委员的资格。拥有进入学园都市“书库”的权限，是学园都市最顶尖的黑客。能力是Level 1的“定温保存”，能将接触的物体的温度保持在一定状态。

![初春饰利](2.png)

## 1. Teleport (teleport.cpp)

### 题目背景

御坂美琴和白井黑子都是初春的好朋友，美琴的能力是 Lv. 5 Railgun , 黑子的能力是 Lv. 4  Teleport。

一天，美琴和黑子打了个赌，内容是黑子随机传送至某废弃大楼的房间中，赌美琴是否能在 $5s$ 中之内擒拿她。然而美琴的能力在这一比赛中并无卵用，凭她一个人是不可能赢的，于是她找到了众多御坂妹妹，并且请求初春帮助她出谋划策。

### 题目描述

废弃的大楼中有 $n$ 个房间，本来各个房间的布局是非常规整且互不直接连通的，然而由于年久失修，一些墙壁甚至是天花板已经不复存在，因此恰好形成了 $n-1$ 个通路，使得这 $n$ 个房间相互连通。

初春在评估御坂妹妹的能力后发现，在 $5s$ 之内移动一个房间并擒拿是她们的极限。

为了得到御坂妹妹们的帮助，美琴需要给每人赠送一个冰淇淋，然而美琴很心疼她的零花钱，所以他希望初春能在布置最少御坂妹妹使得黑子能在 $5s$ 之内被擒拿。

### 输入格式

第 $1$ 行一个正整数 $n$ , 表示大楼中的房间数目；

接下来 $n-1$ 行，每行两个正整数 $u,v$ , 表示一条通路。

### 输出格式

一行一个整数，表示保证胜利的情况下最少需要安排多少御坂妹妹。

### 样例数据

| teleport.in                                                  | teleport.out                   |
| ------------------------------------------------------------ | ------------------------------ |
| <font face="consolas">7</br>1 2</br>1 5</br>2 3</br>3 4</br>5 6</br>6 7</font> | <font face="consolas">3</font> |

### 数据范围

对于 $30\%$ 的数据，$n$ 个房间组成一条链。

对于 $100\%$ 的数据，$n\leq10^6$.


## 2. Flowers on Head (flower.cpp) 

### 题目背景

初春如她的姓氏一般美丽——短短的黑发上戴着满是玫瑰、扶桑花、孔雀草、木槿等各式各样花朵造型的头饰，远远看去好像头上顶着个大花瓶，有“移动花瓶/会走路的花瓶”之称，但据本人所说头上的花是人造花，并且每朵花都可以自由拿下来。

到了休息日，初春要去常盘台中学与御坂等人聚会。然而初春似乎对头上的人造花并不满意，所以她决定在学园都市的花坛中采集一些鲜花。

### 题目描述

学园都市有 $n-2$ 座花坛，编号为 $2\sim n-1$ 的整数，编号为 $1$ 的为栅川中学，编号为 $n$ 的是常盘台中学。

花坛与花坛、花坛与学校之间有一些双向道路，初春走过一条道路时需要花费一定时间（不同道路时间可能不同），且所有的花坛都是联通的。

现在初春想要从栅川中学到常盘台中学，由于初春是个路痴，所以她并不知道该往哪个方向走，每次从一个地方离开后她会随机选取一条道路走到下一个地点，她希望您帮忙计算自己见到御坂的期望时间。

### 输入格式

第一行两个整数 $n$ 和 $m$ ，表示地点个数与道路个数。
接下来 $m$ 行，每行有三个整数 $u,v,w$ . 其中 $1\leq u,v\leq n$ , 表示在地点 $u$ 和 $v$ 之间有一条需要 $w$ 秒时间通过的道路。

### 输出格式

一行一个实数，表示自出发至到达常盘台中学的期望消耗的时间（四舍五入保留一位小数）。

提示：在 C++ 中可以使用 `printf("%.1lf",)` 的方式输出。

### 样例数据

| flower1.in                                                   | flower1.ans                       |
| ------------------------------------------------------------ | --------------------------------- |
| <font face="consolas">5 4</br>1 2 3</br>2 3 2</br>3 4 4</br>4 5 1</font> | <font face="consolas">44.0</font> |







| flower2.in                                                   | flower2.ans                       |
| ------------------------------------------------------------ | --------------------------------- |
| <font face="consolas">5 5</br>1 2 3</br>2 3 5</br>3 4 2</br>4 5 1</br>5 1 4</font> | <font face="consolas">13.8</font> |


| flower3.in                                                   | flower3.ans                       |
| ------------------------------------------------------------ | --------------------------------- |
| <font face="consolas">6 8</br>1 2 3</br>1 3 2</br>2 4 1</br>2 3 2</br>3 5 4</br>4 5 3</br>4 6 2</br>5 6 3</font> | <font face="consolas">29.5</font> |

附加样例文件：`flower4.in/ans`

### 数据范围

对于 $30\%$ 的数据，$2\leq n\leq10$,

对于另外 $20\%$ 的数据，保证数据是一条链。

对于另外 $20\%$ 的数据，保证数据是一个环，且两学校之间有道路直接连接。

对于 $100\%$ 的数据，$2\leq n\leq 500$, $1\leq w\leq1000$ . 保证无重边自环。

数据有一定梯度。

请务必注意浮点数计算误差对结果造成的影响。













##3. Terminal Password (password.cpp)

### 题目背景

初春饰利所在的学院都市是为培养和利用超能力者而存在，而**武装无能力集团(Skill Out)**是没有超能力的社会青年组成的暴力团体的总称。这些无能力者多是由于天资欠缺或是后天没有接受到良好的能力开发而处于社会底层，长期受到歧视的他们内心对超能力者和学园都市充满了仇视。可以说是学园都市中既可怜又可恨的一个群体，同时也是引人深思的社会现象。

武装无能力者虽然不具有超能力，但他们凭借人类智慧和组织领导力，掌握了近代的热兵器技术、形成了高度的组织体系，信息化程度也很高。

作为**风纪委员(Judgement)**的初春饰利，自然不能放任社会危害极大的武装无能力集团发展。为了打击武装无能力阻止，侵入其计算机系统是很有效的方式。于是天才少女黑客初春饰利截取了多个关于这些阻止的重要情报，准备对其实施入侵。

### 题目描述

初春已经实现动用黑客技术截取了如下情报：

- 武装无能力集团的电脑使用庞大的局域网连接，而每台物理主机里又有许多逻辑终端，所以整个组织里终端数量极其庞大。每个终端都有一个从 $1$ 开始的编号。

- 为了方便管理密码，终端的密码由一个密码本生成，且与其编号有关，具体生成方式如下：

  密码本中共有 $n$ 个正整数，记第 $i$ 个数为 $a_i$ . 设 $p_i$ 为第 $i$ 个终端的密码，则满足：
  $$
  p_i=p_{i-1}+p_{i-2}+f(i-1)
  $$
  其中 $f(x)$ 表示数列 $a$ 中为 $x$ 约数的数的个数。

- $p_1=1,p_2=1$ .

- 为了方便键入密码，生成出的密码会对 $998244353$ 取模。

- 整个组织的首领使用编号为 $m$ 的终端。

初春虽然是天才黑客，可是她毕竟只是 JC (初中女生)，体力欠佳，在截取完这些情报后已经筋疲力竭，所以她拜托您算出首领使用的终端的密码，以对其进行入侵。

### 输入格式

第一行两个正整数 $n,m$ .

第二行 $n$ 个正整数，表示数列 $a_i$ .

### 输出格式

一行一个正整数，表示密码。





### 样例数据

| password1.in                     | password1.ans                  |
| -------------------------------- | ------------------------------ |
| <font face="consolas">0 6</font> | <font face="consolas">8</font> |

| password2.in                               | password2.ans                   |
| ------------------------------------------ | ------------------------------- |
| <font face="consolas">3 7</br>2 2 3</font> | <font face="consolas">33</font> |

附加样例文件：`password3.in/ans`

### 数据范围

| 测试点 | $n$        | $m$        | $a_i$            |
| ------ | ---------- | ---------- | ---------------- |
| 1-3    | $=0$       | $\leq1000$ | $\in[2,10^9]$    |
| 4-6    | $\leq1000$ | $\leq1000$ | $\in[2,10^9]$    |
| 7-12   | $=0$       | $\leq10^9$ | $\in[2,10^9]$    |
| 13-16  | $\leq1000$ | $\leq10^9$ | $\in[10^4,10^5]$ |
| 17-20  | $\leq10^5$ | $\leq10^9$ | $\in[2,10^9]$    |

数据有一定梯度。











